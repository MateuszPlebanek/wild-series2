{% extends 'base.html.twig' %}

{% block title %}{{ program.title }}{% endblock %}

{% block body %}
  <article>
    {% if program.poster %}
      <img src="{{ program.poster }}" alt="{{ program.title }}" style="max-width:240px">
    {% endif %}
    <h1>{{ program.title }}</h1>
    <p>{{ program.synopsis }}</p>

    {% if programDuration is defined %}
    <p><strong>Durée totale :</strong> {{ programDuration }}</p>
    {% endif %}
    
    <p>Catégorie : {{ program.category.name }}</p>
  </article>

  <h2>Saisons</h2>
  <ul>
    {% for season in program.seasons %}
      <li>
        Saison {{ season.number }} ({{ season.year }})
        — <a href="{{ path('program_season_show', {
              programSlug: program.slug,
              seasonId:  season.id
            }) }}">Voir la saison</a>
      </li>
    {% else %}
      <li>Aucune saison.</li>
    {% endfor %}
  </ul>

  <h2>Acteurs</h2>
  <ul>
    {% for actor in program.actors %}
      <li>
        <a href="{{ path('actor_show', { id: actor.id }) }}">
          {{ actor.name }}
        </a>
      </li>
    {% else %}
      <li>Aucun acteur pour cette série</li>
    {% endfor %}
  </ul>

  <p><a href="{{ path('program_index') }}">← Retour à la liste</a></p>
{% endblock %}
